#  逻辑回归之激活函数（Sigmoid）

![](/deeplearn/sigmoid.svg)

1. 将线性回归的结果送给Sigmoid函数， 就可以输出1的概率
2. Sigmoid函数计算将任意值映射到0~1的范围内

## 定义与公式

- Sigmoid 函数：σ(x) = 1 / (1 + exp(-x))，将任意实数映射到 (0,1)。

## 性质（直观）

- 单调递增、连续、有界，输出可解释为概率。
- 在 x ≈ 0 处近似线性，两侧趋于饱和（接近 0 或 1）。
- 对称性：σ(-x) = 1 - σ(x)。

## 导数（用于反向传播）

- σ'(x) = σ(x) * (1 - σ(x))，利用已计算的 σ(x) 可以高效得到导数。

## 在逻辑回归中的作用

- 将线性得分 z = w^T x + b 转换为概率 P(y=1|x) = σ(z)；常用阈值 0.5 进行二分类决策。
- 与交叉熵损失配合时，梯度形式简单且数值稳定（实现时仍需注意数值精度）。

## 优缺点与实践建议

- 优点：输出为概率、导数解析、实现简单。
- 缺点：当 |x| 很大时梯度接近 0（饱和），可能引起梯度消失；输出非零均值，会影响优化速度。
- 建议：在隐藏层优先使用 ReLU 或其变种；若使用 Sigmoid，注意权重初始化、批量归一化或使用自适应优化器（Adam、RMSprop）。

## 示例：绘制 Sigmoid 与其导数（Python）

下面的脚本会绘制 Sigmoid 函数和导数，保存为 `sigmoid_plot.png`：

```python
import numpy as np
import matplotlib.pyplot as plt

def sigmoid(x):
	return 1.0 / (1.0 + np.exp(-x))

xs = np.linspace(-10, 10, 400)
ys = sigmoid(xs)
ys_der = ys * (1 - ys)

plt.figure(figsize=(8,4))
plt.plot(xs, ys, label='sigmoid(x)', color='#1f77b4')
plt.plot(xs, ys_der, label="sigmoid'(x)", color='#ff7f0e')
plt.axvline(0, color='#999', linewidth=0.8)
plt.title('Sigmoid and its derivative')
plt.xlabel('x')
plt.legend()
plt.grid(alpha=0.2)
plt.tight_layout()
plt.savefig('sigmoid_plot.png', dpi=150)
plt.show()
```

将上面代码另存为 `sigmoid_plot.py`，在虚拟环境中运行：

```powershell
pip install numpy matplotlib
python sigmoid_plot.py
```

（提示：该脚本会在当前目录生成 `sigmoid_plot.png`。）