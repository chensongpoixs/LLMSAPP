<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="520" viewBox="0 0 1000 520">
  <style>
    .title { font-family: "Microsoft YaHei", Arial, sans-serif; font-size:20px; font-weight:700; fill:#0b2545 }
    .text { font-family: "Microsoft YaHei", Arial, sans-serif; font-size:13px; fill:#0b2545 }
    .layer { fill:#f7fbff; stroke:#cfe8ff; stroke-width:1.2; rx:8 }
    .node { fill:#ffffff; stroke:#2b6cb0; stroke-width:1.4 }
    .node_in { fill:#e6f2ff; stroke:#1f6feb }
    .node_out { fill:#fff0f6; stroke:#ef4444 }
    .arrow { stroke:#0b69c1; stroke-width:1.6; fill:none; marker-end:url(#a) }
    .formula { font-size:12px; fill:#334155 }
    .boxnote { fill:#ffffff; stroke:#e6eefb; rx:6 }
  </style>

  <defs>
    <marker id="a" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#0b69c1" />
    </marker>
  </defs>

  <text x="24" y="34" class="title">深度神经网络 — 前向传播（Forward Propagation）原理图</text>
  <text x="24" y="54" class="text">从左到右：输入层 → 隐藏层 → 输出层；箭头表示信息（加权和 + 激活函数）的前向传递。</text>

  <!-- Input layer -->
  <g transform="translate(40,100)">
    <rect x="0" y="0" width="160" height="320" class="layer" />
    <text x="80" y="24" text-anchor="middle" class="text">输入层 (Input)</text>

    <g transform="translate(30,60)">
      <circle cx="20" cy="0" r="16" class="node_in"/>
      <text x="60" y="6" class="text">x1</text>
    </g>
    <g transform="translate(30,110)">
      <circle cx="20" cy="0" r="16" class="node_in"/>
      <text x="60" y="6" class="text">x2</text>
    </g>
    <g transform="translate(30,160)">
      <circle cx="20" cy="0" r="16" class="node_in"/>
      <text x="60" y="6" class="text">x3</text>
    </g>
    <g transform="translate(30,210)">
      <circle cx="20" cy="0" r="16" class="node_in"/>
      <text x="60" y="6" class="text">... </text>
    </g>
    <g transform="translate(30,260)">
      <circle cx="20" cy="0" r="16" class="node_in"/>
      <text x="60" y="6" class="text">xn</text>
    </g>
  </g>

  <!-- Hidden layer 1 -->
  <g transform="translate(260,80)">
    <rect x="0" y="0" width="200" height="360" class="layer" />
    <text x="100" y="24" text-anchor="middle" class="text">隐藏层1 (Hidden Layer 1)</text>

    <g transform="translate(50,70)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">z1(1)</text>
    </g>
    <g transform="translate(50,130)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">z2(1)</text>
    </g>
    <g transform="translate(50,190)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">z3(1)</text>
    </g>
    <g transform="translate(50,250)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">... </text>
    </g>
    <g transform="translate(50,310)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">zm(1)</text>
    </g>
  </g>

  <!-- Hidden layer 2 -->
  <g transform="translate(520,80)">
    <rect x="0" y="0" width="200" height="360" class="layer" />
    <text x="100" y="24" text-anchor="middle" class="text">隐藏层2 (Hidden Layer 2)</text>

    <g transform="translate(50,70)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">z1(2)</text>
    </g>
    <g transform="translate(50,130)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">z2(2)</text>
    </g>
    <g transform="translate(50,190)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">...</text>
    </g>
    <g transform="translate(50,250)">
      <circle cx="20" cy="0" r="16" class="node"/>
      <text x="60" y="6" class="text">zk(2)</text>
    </g>
  </g>

  <!-- Output layer -->
  <g transform="translate(780,160)">
    <rect x="0" y="0" width="160" height="200" class="layer" />
    <text x="80" y="24" text-anchor="middle" class="text">输出层 (Output)</text>

    <g transform="translate(40,90)">
      <circle cx="20" cy="0" r="18" class="node_out"/>
      <text x="60" y="6" class="text">ŷ1</text>
    </g>
    <g transform="translate(40,150)">
      <circle cx="20" cy="0" r="18" class="node_out"/>
      <text x="60" y="6" class="text">ŷ2</text>
    </g>
  </g>

  <!-- arrows from Input to Hidden1 -->
  <path d="M80 82 C140 120, 160 120, 260 90" class="arrow"/>
  <path d="M80 132 C140 150, 160 150, 260 140" class="arrow"/>
  <path d="M80 182 C140 180, 160 180, 260 190" class="arrow"/>
  <path d="M80 232 C140 210, 160 210, 260 240" class="arrow"/>
  <path d="M80 282 C140 240, 160 240, 260 290" class="arrow"/>

  <!-- arrows Hidden1 -> Hidden2 -->
  <path d="M460 110 C500 130, 520 130, 520 110" class="arrow"/>
  <path d="M460 170 C500 170, 520 170, 520 150" class="arrow"/>
  <path d="M460 230 C500 210, 520 210, 520 230" class="arrow"/>

  <!-- arrows Hidden2 -> Output -->
  <path d="M720 110 C760 120, 780 140, 780 190" class="arrow"/>
  <path d="M720 170 C760 170, 780 170, 780 220" class="arrow"/>

  <!-- formulas box -->
  <g transform="translate(40,440)">
    <rect x="0" y="0" width="900" height="64" class="boxnote"/>
    <text x="12" y="18" class="formula">前向传播基本公式：</text>
    <text x="12" y="36" class="formula">z^{(l)} = W^{(l)} a^{(l-1)} + b^{(l)}  ， a^{(l)} = f^{(l)}( z^{(l)} )</text>
    <text x="12" y="54" class="formula">示例：对于二分类最后一层，常用 σ 或 softmax 将分数转换为概率。</text>
  </g>

  <!-- bottom note -->
  <text x="24" y="520" class="text"></text>
</svg>