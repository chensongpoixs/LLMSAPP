<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 520" width="1200" height="520">
  <style>
    .title{font-size:20px;font-weight:700;fill:#b91c1c}
    .panel_title{font-size:14px;font-weight:700;fill:#111}
    .label{font-size:12px;fill:#111}
    .tick{font-size:10px;fill:#333}
    .axis{stroke:#444;stroke-width:1}
    .point_raw{fill:#ef4444;opacity:0.9}
    .point_norm{fill:#2563eb;opacity:0.9}
    .arrow{stroke:#111;stroke-width:1.6;fill:none;marker-end:url(#arr)}
    .contour_raw{stroke:#f97316;fill:none;stroke-width:2}
    .contour_norm{stroke:#2563eb;fill:none;stroke-width:2}
    .note{font-size:12px;fill:#333}
    .box{fill:none;stroke:#e6e7eb}
  </style>
  <defs>
    <marker id="arr" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#111"/>
    </marker>
  </defs>

  <text x="600" y="28" class="title" text-anchor="middle">归一化清晰示意：数据分布与优化路径对比</text>

  <!-- LEFT PANEL: Raw data scatter (different scales) -->
  <g transform="translate(20,60)">
    <rect x="0" y="0" width="360" height="360" class="box"/>
    <text x="180" y="18" class="panel_title" text-anchor="middle">归一化前（Raw）</text>
    <text x="180" y="34" class="note" text-anchor="middle">特征 X 范围大 (0..1000)，Y 范围小 (0..1)</text>

    <!-- axes -->
    <line x1="40" y1="320" x2="320" y2="320" class="axis"/>
    <line x1="40" y1="320" x2="40" y2="40" class="axis"/>
    <text x="32" y="34" class="tick">Y</text>
    <text x="324" y="332" class="tick">X</text>

    <!-- ticks X (0,250,500,750,1000) scaled to 40..320 -->
    <text x="40" y="335" class="tick">0</text>
    <text x="100" y="335" class="tick">250</text>
    <text x="160" y="335" class="tick">500</text>
    <text x="220" y="335" class="tick">750</text>
    <text x="320" y="335" class="tick">1000</text>

    <!-- ticks Y (0,0.25,0.5,0.75,1) -->
    <text x="20" y="320" class="tick">0</text>
    <text x="20" y="260" class="tick">0.25</text>
    <text x="20" y="200" class="tick">0.5</text>
    <text x="20" y="140" class="tick">0.75</text>
    <text x="20" y="80" class="tick">1</text>

    <!-- raw points (stretched along X) -->
    <circle cx="60" cy="280" r="4" class="point_raw"/>
    <circle cx="140" cy="260" r="4" class="point_raw"/>
    <circle cx="220" cy="240" r="4" class="point_raw"/>
    <circle cx="300" cy="210" r="4" class="point_raw"/>
    <circle cx="260" cy="295" r="4" class="point_raw"/>
    <circle cx="180" cy="310" r="4" class="point_raw"/>
    <circle cx="120" cy="220" r="4" class="point_raw"/>
    <circle cx="280" cy="230" r="4" class="point_raw"/>
  </g>

  <!-- MIDDLE PANEL: After scaling (both axes similar range) -->
  <g transform="translate(410,60)">
    <rect x="0" y="0" width="360" height="360" class="box"/>
    <text x="180" y="18" class="panel_title" text-anchor="middle">归一化后（Scaled）</text>
    <text x="180" y="34" class="note" text-anchor="middle">例如 Z-score 或 Min-Max：X 与 Y 同一尺度</text>

    <!-- axes -->
    <line x1="40" y1="320" x2="320" y2="320" class="axis"/>
    <line x1="40" y1="320" x2="40" y2="40" class="axis"/>
    <text x="32" y="34" class="tick">Y'</text>
    <text x="324" y="332" class="tick">X'</text>

    <!-- ticks (standardized -1.5,-0.5,0.5,1.5) -->
    <text x="40" y="335" class="tick">-1.5</text>
    <text x="120" y="335" class="tick">-0.5</text>
    <text x="200" y="335" class="tick">0.5</text>
    <text x="280" y="335" class="tick">1.5</text>

    <text x="20" y="320" class="tick">-1.5</text>
    <text x="20" y="260" class="tick">-0.5</text>
    <text x="20" y="200" class="tick">0.5</text>
    <text x="20" y="140" class="tick">1.5</text>

    <!-- normalized points (clustered, similar scale) -->
    <circle cx="80" cy="260" r="4" class="point_norm"/>
    <circle cx="140" cy="230" r="4" class="point_norm"/>
    <circle cx="200" cy="210" r="4" class="point_norm"/>
    <circle cx="260" cy="190" r="4" class="point_norm"/>
    <circle cx="220" cy="270" r="4" class="point_norm"/>
    <circle cx="160" cy="285" r="4" class="point_norm"/>
    <circle cx="120" cy="220" r="4" class="point_norm"/>
    <circle cx="240" cy="200" r="4" class="point_norm"/>

    <!-- arrow showing mapping -->
    <line x1="380" y1="180" x2="400" y2="180" class="arrow"/>
  </g>

  <!-- RIGHT PANEL: Contour top-down with gradient paths -->
  <g transform="translate(800,60)">
    <rect x="0" y="0" width="360" height="360" class="box"/>
    <text x="180" y="18" class="panel_title" text-anchor="middle">损失等高线与优化轨迹</text>
    <text x="180" y="34" class="note" text-anchor="middle">左为未归一化（长椭圆）→ 梯度震荡，右为归一化（圆形）→ 快速收敛</text>

    <!-- axes -->
    <line x1="40" y1="300" x2="320" y2="300" class="axis"/>
    <line x1="180" y1="60" x2="180" y2="340" class="axis"/>
    <text x="330" y="300" class="tick">w</text>
    <text x="180" y="50" class="tick">b</text>

    <!-- raw elongated contours (left area) -->
    <g transform="translate(100,180) rotate(-25)">
      <ellipse cx="0" cy="0" rx="120" ry="30" class="contour_raw"/>
      <ellipse cx="0" cy="0" rx="90" ry="22" class="contour_raw"/>
      <ellipse cx="0" cy="0" rx="60" ry="15" class="contour_raw"/>
      <!-- zigzag gradient path -->
      <path d="M-120 40 L -80 0 L -60 20 L -30 0 L -10 10 L 0 0" stroke="#b91c1c" stroke-width="2" fill="none" marker-end="url(#arr)"/>
      <text x="-120" y="62" class="label" fill="#b91c1c">无归一化路径</text>
    </g>

    <!-- normalized circular contours (right area) -->
    <g transform="translate(260,180)">
      <circle cx="0" cy="0" r="120" class="contour_norm"/>
      <circle cx="0" cy="0" r="90" class="contour_norm"/>
      <circle cx="0" cy="0" r="60" class="contour_norm"/>
      <!-- smooth gradient path -->
      <path d="M-120 60 C -80 40, -40 20, 0 0" stroke="#0ea5a4" stroke-width="2" fill="none" marker-end="url(#arr)"/>
      <text x="-120" y="84" class="label" fill="#0ea5a4">归一化路径</text>
    </g>

  </g>

  <!-- footer note -->
  <text x="600" y="500" class="note" text-anchor="middle">此图清晰显示：归一化把不同尺度的特征映射到相近范围，从而把损失面条件数降低，优化轨迹更直、更快收敛。</text>
</svg>